(defun c:gd (/)
  ;;(princ "Grid Line drawing")
  (setq wall (entsel "Select a wall line"))
  (setq entlist (entget (car wall)))
  (setq i 0)
  (while (< i (length entlist))
  (if (= (car (nth i entlist)) 0)
    (setq enttype (cdr (nth i entlist)))
    )
    (if (= (car (nth i entlist)) 8)
    (setq layername (cdr (nth i entlist)))
      )
   ;; (princ enttype)
   ;; (princ layername)
    (setq i (1+ i))
    )
 (ssget "_X" (list (cons 0 enttype) (cons 8 layername)))
  )